{% comment %}
  Determine TOC state and return it through variable "enable_toc"
{% endcomment %}

{% assign enable_toc = false %}

{% if site.toc and page.toc %}
  {%- assign raw = page.content | strip -%}

  {%- if raw contains '## ' or raw contains '### ' -%}
    {% assign enable_toc = true %}
  {%- endif -%}
{% endif %}
